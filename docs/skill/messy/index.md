# 杂项

## 获取中间位置

- 使用除以二然后再取整的方法

  - 痛点一：最小值与最大值的和有可能超出数字的精度范围。
  - 痛点二：必须调用数学方法进行取整。

  ```ts
  const low = 0,
    high = 10;
  const mid = Math.floor((low + high) / 2);
  ```

- 使用位运算

  - 痛点一：最小值与最大值的和有可能超出数字的精度范围。
    - 原理是因为右移 1 位后，二进制数最后一位的精度丢失导致自动向下取整，解决了需要调用数学方法的痛点。

  ```ts
  const low = 0,
    high = 10;
  const mid = (low + high) >> 1;
  ```

- 使用位运算并解决 low + high 超出安全表示范围的场景。
  - 解决了上述的两个痛点，上述痛点二解决原理不再赘述，痛点一的解决思路是，既然 low 与 high 各自都没有超出精度范围，那么 high- low 必定没有超出精度范围，这个值的一半也是同理，使用 low + 这个值的一半必定不会大于 high，因此表示是安全的。
  ```ts
  const low = 0,
    high = 10;
  const mid = low + ((high - low) >> 1);
  ```
